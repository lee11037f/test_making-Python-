import random
A = [random.randint(1,10)*(-1 if random.randint(0,3) else 1) for _ in range(10)]
print(A)
p1,m,p2,ans = 0,0,0,A[0]
flag = 0 if A[0] >= 0 else 1
for i in range(len(A)):
  if flag == 0:
    p1+=A[i]
    try:
      if A[i+1]<0:
        flag+=1
    except:
      ans=max(p1,ans)
  elif flag==1:
    m-=A[i]
    try:
      if A[i+1]>0:
        flag+=1
    except:
      pass
  else:
    p2+=A[i]
    try:
      if A[i+1]<0:
        flag+=1
    except:
      flag+=1
  if flag==3:
    c1,c2=p1>m,p2>m
    if c1 and c2:
      p1+=m+p2
    elif c1:
      p1=p2
      ans=max(ans,p1)
    elif c2:
      p1=p2
    else:
      p1=p2
      ans=max(ans,p1,p2)
    m,p2,flag=0,0,1
print(ans)